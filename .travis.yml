dist: xenial
sudo: false
cache: pip

python: "3.6"
language: python

install:
    - pip install tox tox-venv
    - python setup.py install

script: tox

stages:
    - name: static analysis
    - name: test

jobs:
  fast_finish: true
  include:
    - stage: static analysis
      env: TOXENV=flake8
      python: "2.7"

    - stage: test
      env: TOXENV=py27
      python: "2.7"

    - stage: test
      env: TOXENV=py34
      python: "3.4"

    - stage: test
      env: TOXENV=py35
      python: "3.5"

    - stage: test
      env: TOXENV=py36
      python: "3.6"

    - stage: test
      env: TOXENV=py37
      python: "3.7"

notifications:
  flowdock:
    secure: "YD74L+41DEjv2Bq5fG8vvIsuMG5iu8CHctes3CSfQw0j5SaPcASsKe6twXBCLsGB5IwzgYk7RUEnOsqA6kLqfWChJ3kO4lBCYBKSaGSG84VjwUlMOVG4n0jt7SLiHRjQ6sBhwFhWE64yAZPbdDuYtrUtVbb9Ui+dLUyBab1o7Cw="
